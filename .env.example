# ========================================
# MoviAPI - Environment Variables Example
# ========================================
#
# Copie este arquivo para .env e preencha com suas credenciais reais
# NUNCA commite o arquivo .env (deve estar no .gitignore)

# ========================================
# SUPABASE CONFIGURATION (OBRIGAT√ìRIO)
# ========================================
# Obtenha estas credenciais em: https://supabase.com/dashboard
# Seu projeto ‚Üí Settings ‚Üí API

# URL do seu projeto Supabase (OBRIGAT√ìRIO)
VITE_SUPABASE_URL=https://wrplwpcfwiiwfelwwzea.supabase.co

# Chave p√∫blica/an√¥nima do Supabase (OBRIGAT√ìRIO - segura para frontend)
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndycGx3cGNmd2lpd2ZlbHd3emVhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0NTgyMTAsImV4cCI6MjA2NzAzNDIxMH0.mkcNaIMfT-X1lbjbwPlfW_KqMhrdGBCrD4A08QHIj-g

# ========================================
# DEVELOPMENT vs PRODUCTION
# ========================================
# Para desenvolvimento local com Supabase CLI, use:
# VITE_SUPABASE_URL=http://127.0.0.1:54321
# VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9... (fornecida pelo comando: supabase start)

# Para produ√ß√£o, use:
# VITE_SUPABASE_URL=https://seu-projeto-id.supabase.co
# VITE_SUPABASE_ANON_KEY=sua_chave_publica_real

# ========================================
# STRIPE CONFIGURATION
# ========================================
# IMPORTANTE: As chaves secretas do Stripe N√ÉO v√£o aqui!
# Elas devem ser configuradas no Supabase via CLI:
# supabase secrets set STRIPE_SECRET_KEY=sk_test_...
# supabase secrets set STRIPE_WEBHOOK_SECRET=whsec_...
# ‚úÖ Secrets j√° configurados no Supabase (use: supabase secrets list)

# Price IDs dos produtos Stripe (configur√°veis via .env)
VITE_STRIPE_PRICE_BASIC=price_1SBh9MA3Ey5GjayWnkwgOAQD
VITE_STRIPE_PRICE_PREMIUM=price_1SBhAmA3Ey5GjayWsBWfi0ty
VITE_STRIPE_PRICE_BUSINESS=price_1SBhBdA3Ey5GjayWBMmMqteL

# Chave p√∫blica do Stripe (se necess√°rio no frontend):
# VITE_STRIPE_PUBLIC_KEY=pk_test_...

# ========================================
# APLICA√á√ÉO URLs (Opcional)
# ========================================
# URL base da aplica√ß√£o (auto-detectada, mas pode sobrescrever)
# VITE_APP_URL=http://localhost:5173

# ========================================
# ERROR LOGGING (Autom√°tico)
# ========================================
# O sistema de logging de erros est√° sempre ativo
# Erros s√£o salvos na tabela 'error_logs' automaticamente
# - Erros de JavaScript (crashes, exce√ß√µes)
# - Erros de rede (APIs, fetch failures)
# - Erros de renderiza√ß√£o (React Error Boundary)
# - Erros de autentica√ß√£o e pagamento

# ========================================
# ARQUIVOS ANALISADOS COM REFER√äNCIAS:
# ========================================
# src/lib/supabase.ts - Cliente principal do Supabase
# src/lib/stripe.ts - Integra√ß√£o com Stripe (Edge Functions)
# src/contexts/AuthContext.tsx - Context de autentica√ß√£o
# src/components/auth/SignUpForm.tsx - Formul√°rio de registro
# src/components/debug/DatabaseDebug.tsx - Debug do banco
# src/components/views/* - Componentes das p√°ginas
# src/stripe-config.ts - Configura√ß√£o de produtos Stripe

# ========================================
# EDGE FUNCTIONS (Backend Supabase):
# ========================================
# As Edge Functions est√£o em supabase/functions/ e precisam ser deployadas:
# supabase functions deploy stripe-checkout --no-verify-jwt
# supabase functions deploy stripe-webhook-cli --no-verify-jwt

# URLs das Edge Functions (geradas automaticamente):
# https://SEU-PROJETO.supabase.co/functions/v1/stripe-checkout
# https://SEU-PROJETO.supabase.co/functions/v1/stripe-webhook-cli

# ========================================
# VALIDA√á√ÉO DA CONFIGURA√á√ÉO:
# ========================================
# Se as vari√°veis est√£o corretas, voc√™ ver√° nos logs do console:
# - "Supabase configured: true"
# - Conex√£o real com banco de dados
#
# Se est√£o incorretas ou faltando, voc√™ ver√°:
# - "Using mock data"
# - "Setting mock user immediately"

# ========================================
# NOTAS IMPORTANTES DE SEGURAN√áA:
# ========================================
# 1. ‚úÖ Use prefixo VITE_ para expor vari√°veis no frontend
# 2. ‚ùå NUNCA inclua chaves secretas aqui (service_role, stripe secret, etc.)
# 3. üîí As chaves secretas ficam no Supabase via: supabase secrets set
# 4. üìÅ Verifique se .env est√° no .gitignore
# 5. üöÄ Para produ√ß√£o, configure as vari√°veis no seu provedor de hosting
# 6. üîë A chave anon/public √© SEGURA para frontend (tem RLS habilitado)
# 7. üåê Para desenvolvimento local, inicie primeiro: supabase start